<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Management Calendar</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .calendar {
            width: 100%;
            max-width: 1200px;
            margin: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f0f0f0;
            border-bottom: 1px solid #ccc;
        }

        .calendar-header div {
            display: flex;
            align-items: center;
        }

        .calendar-header div button {
            margin: 0 5px;
            padding: 5px 10px;
            border: 1px solid #ccc;
            background-color: #fff;
            cursor: pointer;
        }

        .calendar-header div button.active {
            background-color: green;
            color: white;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-auto-rows: 120px;
            gap: 1px;
        }

        .calendar-grid div {
            position: relative;
            background-color: #f9f9f9;
            border: 1px solid #ccc;
            padding: 5px;
        }

        .calendar-grid div .date {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 14px;
        }

        .post {
            margin-top: 20px;
            background-color: #e0f7fa;
            padding: 5px;
            border-radius: 3px;
            cursor: pointer;
        }

        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .popup input {
            display: block;
            margin-bottom: 10px;
            padding: 5px;
            width: 100%;
            box-sizing: border-box;
        }

        .popup button {
            padding: 5px 10px;
        }

        .days-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            background-color: #e0e0e0;
            padding: 10px 0;
        }
    </style>
</head>
<body>

<div class="calendar">
    <div class="calendar-header">
        <div>
            <button id="weekViewBtn">Week</button>
            <button id="monthViewBtn" class="active">Month</button>
        </div>
        <div>
            <span id="monthYearDisplay">June 2024</span>
        </div>
        <div>
            <button id="prevBtn">Back</button>
            <button id="todayBtn">Today</button>
            <button id="nextBtn">Next</button>
        </div>
    </div>
    <div class="days-header">
        <div>Sunday</div>
        <div>Monday</div>
        <div>Tuesday</div>
        <div>Wednesday</div>
        <div>Thursday</div>
        <div>Friday</div>
        <div>Saturday</div>
    </div>
    <div class="calendar-grid" id="calendarGrid">
        <!-- Calendar dates will be injected here -->
    </div>
</div>

<div class="popup" id="popup">
    <h3>Edit Post</h3>
    <label for="editTitle">Title:</label>
    <input type="text" id="editTitle">
    <label for="editDate">Date:</label>
    <input type="date" id="editDate">
    <button id="saveBtn">Save</button>
    <button id="deleteBtn">Delete</button>
    <button id="closeBtn">Close</button>
</div>

<script>
    const calendarGrid = document.getElementById('calendarGrid');
    const monthYearDisplay = document.getElementById('monthYearDisplay');
    const popup = document.getElementById('popup');
    const editTitle = document.getElementById('editTitle');
    const editDate = document.getElementById('editDate');
    const saveBtn = document.getElementById('saveBtn');
    const deleteBtn = document.getElementById('deleteBtn');
    const closeBtn = document.getElementById('closeBtn');
    const weekViewBtn = document.getElementById('weekViewBtn');
    const monthViewBtn = document.getElementById('monthViewBtn');

    const posts = [
        { date: '2024-06-19', title: 'LinkedIn Post 1', platform: 'LinkedIn' },
        { date: '2024-06-19', title: 'Instagram Post 1', platform: 'Instagram' }
    ];

    const currentDate = new Date();
    let selectedDate = currentDate;
    let isWeekView = false;
    
    function renderCalendar() {
        const year = selectedDate.getFullYear();
        const month = selectedDate.getMonth();
        
        monthYearDisplay.textContent = `${selectedDate.toLocaleString('default', { month: 'long' })} ${year}`;
        
        const firstDayOfMonth = new Date(year, month, 1);
        const lastDayOfMonth = new Date(year, month + 1, 0);
        const firstDayIndex = firstDayOfMonth.getDay();
        const lastDayIndex = lastDayOfMonth.getDate();
        
        calendarGrid.innerHTML = '';
        
        if (isWeekView) {
            const startOfWeek = selectedDate.getDate() - selectedDate.getDay();
            for (let i = 0; i < 7; i++) {
                const date = new Date(selectedDate.setDate(startOfWeek + i));
                const dateCell = createDateCell(date, year, month);
                calendarGrid.appendChild(dateCell);
            }
        } else {
            for (let i = 0; i < firstDayIndex; i++) {
                const emptyCell = document.createElement('div');
                calendarGrid.appendChild(emptyCell);
            }
            
            for (let i = 1; i <= lastDayIndex; i++) {
                const dateCell = createDateCell(new Date(year, month, i), year, month);
                calendarGrid.appendChild(dateCell);
            }
        }
    }

    function createDateCell(date, year, month) {
        const dateCell = document.createElement('div');
        dateCell.innerHTML = `<span class="date">${date.getDate()}</span>`;
        const dateStr = `${year}-${(month + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;
        
        posts.filter(p => p.date === dateStr).forEach(post => {
            const postDiv = document.createElement('div');
            postDiv.classList.add('post');
            postDiv.textContent = `${post.title} (${post.platform})`;
            postDiv.onclick = () => openPopup(post, dateStr);
            dateCell.appendChild(postDiv);
        });
        
        return dateCell;
    }
    
    function openPopup(post, date) {
        popup.style.display = 'block';
        editTitle.value = post.title;
        editDate.value = date;
        saveBtn.onclick = () => savePost(post, date);
        deleteBtn.onclick = () => deletePost(post);
    }
    
    function closePopup() {
        popup.style.display = 'none';
    }
    
    function savePost(post, oldDate) {
        post.title = editTitle.value;
        const newDate = editDate.value;
        
        if (newDate !== oldDate) {
            post.date = newDate;
        }
        
        closePopup();
        renderCalendar();
    }
    
    function deletePost(post) {
        const index = posts.indexOf(post);
        posts.splice(index, 1);
        closePopup();
        renderCalendar();
    }

    document.getElementById('prevBtn').onclick = () => {
        if (isWeekView) {
            selectedDate.setDate(selectedDate.getDate() - 7);
        } else {
            selectedDate.setMonth(selectedDate.getMonth() - 1);
        }
        renderCalendar();
    };
    
    document.getElementById('todayBtn').onclick = () => {
        selectedDate = new Date();
        renderCalendar();
    };

    document.getElementById('nextBtn').onclick = () => {
        if (isWeekView) {
            selectedDate.setDate(selectedDate.getDate() + 7);
        } else {
            selectedDate.setMonth(selectedDate.getMonth() + 1);
        }
        renderCalendar();
    };

    weekViewBtn.onclick = () => {
        isWeekView = true;
        weekViewBtn.classList.add('active');
        monthViewBtn.classList.remove('active');
        renderCalendar();
    };

    monthViewBtn.onclick = () => {
        isWeekView = false;
        monthViewBtn.classList.add('active');
        weekViewBtn.classList.remove('active');
        renderCalendar();
    };

    closeBtn.onclick = closePopup;
    
    renderCalendar();
</script>

</body>
</html>
